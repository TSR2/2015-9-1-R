segments(x[3], y[3], x[4], y[4], col= "red")
segments(x[3:4], y[3:4], x[5:6], y[5:6], col= c("blue", "green"))
plot(x, y, main="arrows and segments")
cbind(x,y+0.1) %>% text(.,label=1:12)
lines(x=cbind(x,y)[1:2,],col="black")
lines(x=cbind(x,y)[3:4,],col="red")
lines(x=cbind(x,y)[c(3,5),],col="blue")
lines(x=cbind(x,y)[c(4,6),],col="green")
m=matrix(c(0,1,0,2,3,4,0,5,0),byrow = T)
layout(mat = m)
hist(iris[,1])
hist(iris[,1])
par(mai=rep(0.1,4))
hist(iris[,1])
par(mai=rep(0.1,4))
m=matrix(c(0,1,0,2,3,4,0,5,0),byrow = T)
layout(mat = m)
hist(iris[,1])
m=matrix(c(0,1,0,2,3,4,0,5,0),byrow = T,ncol=3)
layout(mat = m)
hist(iris[,1])
boxplot(iris[,1])
plot(iris[,1:2],col=iris[,5])
names(iris)
plot(iris[,c(1,3)],col=iris[,5])
par(mai=rep(0.1,4))
m=matrix(c(0,1,0,2,3,4,0,5,0),byrow = T,ncol=3)
layout(mat = m)
hist(iris[,1])
boxplot(iris[,1])
plot(iris[,c(1,3)],col=iris[,5])
hist(iris[,3])
boxplot(iris[,2])
boxplot(iris[,2],horizontal = T)
par(mai=rep(0.1,4))
m=matrix(c(0,1,0,2,3,4,0,5,0),byrow = T,ncol=3)
layout(mat = m)
hist(iris[,1])
boxplot(iris[,1])
plot(iris[,c(1,3)],col=iris[,5])
hist(iris[,3])
boxplot(iris[,2],horizontal = T)
hist(iris[,3],horizontal = T)
boxplot(iris[,2],horizontal = T)
boxplot(iris[,1])
hist(iris[,3],angle = 90)
par(mai=rep(0.1,4))
m=matrix(c(0,1,0,2,3,4,0,5,0),byrow = T,ncol=3)
layout(mat = m)
hist(iris[,1])
boxplot(iris[,1])
plot(iris[,c(1,3)],col=iris[,5])
hist(iris[,3])
boxplot(iris[,2],horizontal = T)
par(mai=rep(0.1,4))
m=matrix(c(0,1,0,2,3,4,0,5,0),byrow = T,ncol=3)
layout(mat = m,widths = c(1,3,1),heights = c(1,3,1))
hist(iris[,1])
boxplot(iris[,1])
plot(iris[,c(1,3)],col=iris[,5])
hist(iris[,3])
boxplot(iris[,2],horizontal = T)
par(mai=rep(0.1,4),fig=10)
?par
par(mai=rep(0.1,4),fig=90)
par(mai=rep(0.1,4),fig=c(90,10))
par(fig=c(0,0.5,0,0.6))
plot(fig1)
plot(iris[,1:2])
plot(iris[,1:2])
par(fig=c(0,0.5,0,0.6))
plot(iris[,1:2])
par(mai=rep(0.1,4),fig=c(90,10))
m=matrix(c(0,1,0,2,3,4,0,5,0),byrow = T,ncol=3)
layout(mat = m,widths = c(1,3,1),heights = c(1,3,1))
hist(iris[,1])
boxplot(iris[,1])
plot(iris[,c(1,3)],col=iris[,5])
hist(iris[,3])
boxplot(iris[,2],horizontal = T)
hist(iris[,3],horiz=T)
a=hist(iris[,3])
plot(a)
plot(a,horiz=T)
plot(a,horizontal=T)
?hhist
?hist
plot(1:10,rep(1,10),cex=5,col=1:10)
plot(1:10,rep(1,10),cex=5,col=1:10,pch=20)
par()
par(mfrow(1))
par(mfrow(c(1,1)))
par(mfrow=c(1,1))
plot(1:10,rep(1,10),cex=5,col=1:10,pch=20)
plot(1:10,rep(1,10),cex=5,col=1:10,pch=20)
text(1:10,rep(1.2,10),labels = 1:10)
text(1:10,rep(1.05,10),labels = 1:10)
col2rgb("blue")
colors()
col2rgb("tomato2")
colors(1:10)
colors()[1:10]
palette()
rep(x=c("a","b","c"),each=50)
plot(iris[,3], iris[,4], type="n")
my.label <- c(rep("a", 50), rep("b", 50), rep("c", 50))
text(iris[,3], iris[,4], labels=my.label, cex=0.7)
plot(iris[,3], iris[,4], type="n")
my.label <- c(rep("a", 50), rep("b", 50), rep("c", 50))
text(iris[,3], iris[,4], my.label, cex=0.7,
col=ifelse(iris[,1] > median(iris[,1]), "red", "blue"))
plot(iris[,3],iris[,4])
plot(iris[,3:4])
plot(iris[,3:4],type="n")
plot(iris[,3],iris[,4])
plot(iris[,3:4],type="n")
mylabel=rep(letters[1:3],each=50)
mycol=rep(c("red","blue","green"),each=50)
text(iris[,3:4],labels = mylabel,col=mycol)
iris[,5] %>% sort %>% group_by() %>% head(n=1)
x=iris
names(x)=paste("v",1:5,sep="")
no=rnorm(100,mean = mean(x$v1),sd = sd(x$v1))
x[,5] %>% sort %>% group_by(v5) %>% head(n=1)
x$v5 %>% sort %>% group_by(v5) %>% head(n=1)
x$v5 %>% as.character  %>% sort %>% group_by(v5) %>% head(n=1)
x$v5 %>% as.character
x$v5 %>% as.character  %>% sort
x$v5 %>% as.character  %>% sort %>%
mutate(v6=1:150)
x %>% select(v1,v5)
x %>% select(v1,v5)  %>% arrange(v5)
x %>% select(v1,v5)  %>% arrange(v5)
x %>% select(v1,v5)  %>% arrange(v5) %>%
group_by(v5)
x %>% select(v1,v5)  %>% arrange(v5) %>%
group_by(v5) %>% head(n=1)
x %>% select(v1,v5)  %>% arrange(v5) %>%
mutate(v6=1:150) %>% group_by(v5) %>% head(n=1)
x %>% select(v1,v5)  %>% arrange(v5)
x %>% select(v1,v5)  %>% arrange(v5) %>%
mutate(v6=1:150)
x %>% select(v1,v5)  %>% arrange(v5) %>%
mutate(v6=1:150) %>% group_by(v5)
x %>% select(v1,v5)  %>% arrange(v5) %>%
mutate(v6=1:150) %>% group_by(v5) %>% head()
x %>% select(v1,v5)  %>% arrange(v5) %>%
mutate(v6=1:150) %>% group_by(v5) %>% head(.)
x %>% select(v1,v5)  %>% arrange(v5) %>%
mutate(v6=1:150) %>% group_by(v5) %>% summarise(head(n=1))
x %>% select(v1,v5)  %>% arrange(v5) %>%
mutate(v6=1:150) %>% group_by(v5) %>% summarise(head(.,n=1))
x %>% select(v1,v5)  %>% arrange(v5) %>%
mutate(v6=1:150) %>% group_by(v5) %>% summarise(head(.$v6,n=1))
x %>% select(v1,v5)  %>% arrange(v5) %>%
mutate(v6=1:150) %>% group_by(v5) %>% summarise(n=min(v6))
x %>% select(v1,v5)  %>% arrange(v5) %>%
mutate(v6=1:150) %>% group_by(v5) %>%
summarise(start=min(v6),end=max(v6))
x %>% select(v1,v5)  %>%
group_by(v5) %>% summarise(n=n())
x %>% select(v5)  %>%
group_by(v5) %>% summarise(n=n())
x %>% select(v5)
x$v5 %>%
group_by(v5) %>% summarise(n=n())
legend(5,0.6,legend = unique(iris$Species),
col =c("red","blue","green") )
legend(5,0.6,legend = unique(iris$Species),
col =c("red","blue","green"),pch="abc" )
legend(5,0.6,legend = unique(iris$Species),
col =c("red","blue","green"),pch=21 )
legend(5,0.6,legend = unique(iris$Species),
col =c("red","blue","green"),pch=20 )
legend(5,0.6,legend = unique(iris$Species),
col =c("red","blue","green"),pch="abc" )
legend(5,0.6,legend = unique(iris$Species),
col =c("red","blue","green"),pch="abcd" )
aggregate(iris$Sepal.Length~iris$Species,length())
aggregate(iris$Sepal.Length~iris$Species,sum)
aggregate(iris$Sepal.Length~iris$Species,data=iris,sum)
aggregate(iris$Sepal.Length~iris$Species,data=iris,length)
aggregate(Sepal.Length~Species,data=iris,length)
x %>% select(v5)  %>%
group_by(v5) %>% summarise(n=n())
x %>% select(v5)  %>%
group_by(v5) %>% summarise(n=n(),l=length())
x %>% select(v5)  %>%
group_by(v5) %>% summarise(n=n(),l=length(v5))
aggregate(iris[,1]~Species,data=iris,length)
aggregate(iris[,1:2]~Species,data=iris,length)
aggregate(iris~Species,data=iris,length)
aggregate(iris$Sepal.Length+iris$Sepal.Width~Species,data=iris,length)
aggregate(iris[,1:2]~Species,data=iris,length)
aggregate(x=iris,by=Species,sum)
aggregate(x=iris,by=iris$Species,sum)
aggregate(x=iris,by=list(iris$Species),sum)
aggregate(x=iris[,1:4],by=list(iris$Species),sum)
x[,1:4] %>% rowwise() %>% sum
x[,1:4] %>% rowwise()
x[,1:4] %>% rowwise() %>% sum(v1)
x[,1:4] %>% rowwise() %>% sum(.)
?rowwise
x[,1:4] %>% rowwise() %>% summarise(sum())
x[,1:4] %>% rowwise() %>% summarise(sum(.))
x[,1:4] %>% rowwise() %>% summarise(sum(v1))
x[,1:4] %>% rowwise() %>% summarise(sum(v1,v2))
x[,1:4] %>% rowwise()
?.Last.value
.Last.value
.Last.value()
.Last.value
df <- expand.grid(x = 1:3, y = 3:1)
df
df %>% rowwise() %>% do(i = seq(.$x, .$y))
.Last.value %>% summarise(n = length(i))
x
.Last.value
i
ppp=df %>% rowwise() %>% do(i = seq(.$x, .$y))
ppp
is(ppp)
ppp[1]
ppp[1,1]
ppp[1,1][1]
ppp[1,1][[1]]
ppp %>% print
ppp=df %>% rowwise() %>% do(i = seq(.$x, .$y))%>% summarise(n = length(i))
ppp
ppp$n
x[,1:4] %>% colwise() %>% hist
x[,1:4] %>% colwise() %>% hist(.)
x[,1:4] %>% colwise() %>% do( hh=hist(.))
?\do
?do
x %>% group_by(v5) %>% do( hh=hist(v1))
x
x %>% group_by(v5) %>% do( hh=hist(.$v1))
hhh=x %>% group_by(v5) %>% do( hh=hist(.$v1))
hhh$hh
hhh$hh[[1]] %>% plot
ppp
ppp=df %>% rowwise() %>% do(i = seq(.$x, .$y))
ppp
ppp$i
aggregate(Sepal.Length~Species,data=iris,hist)
hhh$hh[[1]] %>% plot
hhh %>% do(bb=.$breaks)
by_cyl <- group_by(mtcars, cyl)
by_cyl
do(by_cyl, head(., 2))
models <- by_cyl %>% do(mod = lm(mpg ~ disp, data = .))
models
summarise(models, rsq = summary(mod)$r.squared)
models %>% do(data.frame(coef = coef(.$mod)))
models %>% do(coef = coef(.$mod))
models %>% do(as.list(coef = coef(.$mod)))
models %>% do(data.frame(
var = names(coef(.$mod)),
coef(summary(.$mod)))
)
summary(lm(iris[,1]~iris[,2]))
summary(lm(iris[,1]~iris[,2])) %>%coef
models %>% do(data.frame(
var = names(coef(.$mod)),
coef(summary(.$mod)))
)
models %>% do(data.frame(
coef(summary(.$mod)))
)
a=summary(lm(iris[,1]~iris[,2]))
names(a)
names(a)[4]
a[4]
a[6]
models %>% do(data.frame(
sig=summary(.$mod)[6]
coef(summary(.$mod)))
)
models %>% do(data.frame(
sig=summary(.$mod)[6]
coef(summary(.$mod)))
)
sig=summary(.$mod)$sigma
models %>% do(data.frame(
sig=summary(.$mod)$sigma
coef(summary(.$mod)))
)
models %>% do(data.frame(
sig=summary(.$mod)
coef(summary(.$mod)))
)
models %>% do(data.frame(
sig=summary(.$mod),
coef(summary(.$mod)))
)
models %>% do(data.frame(
sig=summary(.$mod)[6],
coef(summary(.$mod)))
)
models %>% do(data.frame(1:6,
sig=summary(.$mod)[6],
coef(summary(.$mod)))
)
models %>% do(data.frame(
sig=summary(.$mod)$sigma,
coef(summary(.$mod))))
names(a)
models %>% do(data.frame(
sig=summary(.$mod)$r.squared,
coef(summary(.$mod))))
names(a)
a[1]
models %>% do(data.frame(
sig=summary(.$mod)$r.squared,
call=summary(.$mod)[1],
coef(summary(.$mod))))
models %>% do(data.frame(
sig=summary(.$mod)$r.squared,
coef(summary(.$mod))))
b=lm(iris[,1]~iris[,2])
names(b)
b$qr
names(b)
b$coefficients
b$coef
models %>% summarise(R=.mod$coef)
models %>% summarise(R=mod$coef)
models %>% summarise(R=mod$coefficients)
models %>% do(data.frame(c=.$mod[1]))
b$rank
models %>% summarise(R=mod$rank)
models %>% summarise(R=(mod)$rank)
models %>% summarise(R=coef(mod))
models %>% do(data.frame(c=.$mod[1]))
models %>% do((c=.$mod[1]))
models %>% do(data.frame(c=.$mod[1]))
models %>% do(data.frame(c=.$mod[1],v=.$mod[2]))
names(b)
models %>% do(data.frame(c=.$mod[1],v=.$mod[7]))
models %>% do(data.frame(v=.$mod[7]))
models %>% do(data.frame(v=.$mod[4]))
models %>% do(data.frame(v=.$mod$rank))
names(b)
b[$rank]5]
b[5]
models %>% do(data.frame(v=.$mod[5]))
models %>% do(data.frame(v=.$mod[1]))
models %>% summarise(R=coef(mod))
models %>% summarise(R=summary(mod))
names(a)
a[1]
models %>% summarise(R=summary(mod)[4])
models %>% summarise(R=summary(mod)[4]) %>% as.data.frame()
names(a)
models %>% summarise(R=summary(mod)[8]) %>% as.data.frame()
models %>% summarise(R=summary(mod)[8])
models %>% summarise(rsq = summary(mod)$r.squared)
models %>% summarise(R=summary(mod)[[8]])
models %>% summarise(R=summary(mod)[[1]])
models %>% summarise(R=summary(mod)[[4]])
x[,1:4] %>% rowwise() %>% summarise(sum(v1,v2))
aa=x[,1:4] %>% rowwise() %>% summarise(sum(v1,v2))
aa
max(aa)
models %>% do(data.frame(
sig=summary(.$mod)$r.squared,
coef(summary(.$mod))))
models %>% do((coef = coef(.$mod)))
models %>% do((coef = coef(.$mod)))
models %>% do(as.data.frame(coef = coef(.$mod)))
models %>% do(data.frame(coef = coef(.$mod)))
models %>% do(matrix(coef = coef(.$mod)))
models %>% do(data.frame(coef = coef(.$mod)))
models %>% do(data.frame(coef1 = coef(.$mod)[1]))
models %>% do(data.frame(coef1 = coef(.$mod)[1],coef2 = coef(.$mod)[2]))
n(1:10)
plot(iris[,3],iris[,4])
plot(iris[,3:4],type="n")
mylabel=rep(letters[1:3],each=50)
mycol=rep(c("red","blue","green"),each=50)
text(iris[,3:4],labels = mylabel,col=mycol)
legend(5,0.6,legend = unique(iris$Species),
col =c("red","blue","green"),pch="abc" )
plot(iris[,3], iris[,4], type="n")
my.label <- c(rep("a", 50), rep("b", 50), rep("c", 50))
text(iris[,3], iris[,4], my.label, cex=0.7,
col=ifelse(iris[,1] > median(iris[,1]), "red", "blue"))
read.table("C:\\Users\\tsr\\Desktop\\上課用檔案\\資料視覺化\\100.txt",sep=",")
spe[1:5,]
library(plyr)
library(dplyr)
library(magrittr)
spe %>% head
head(spe)
head(spe,n=5)
spe[1:5,]
env[1:5,]
spa[1:5,]
dim(spe)
dim(spe)
spe %>% dim
env %>% dim
spa %>% dim
spe %>% names
env %>% names
spa %>% names
spe[1:5,]
spa %>% summary()
env %>% summary()
spe %>% summary()
plot(spa[,2:3],type="l")
spa[,2:3]
plot(spa[,2],spa[,3],type="l")
plot(spa[,2],spa[,3])
plot(spa[,2:3],type="l")
text(x=spa$x,y=spa$y,labels = spa$X,cex = 1)
plot(spa[,2:3],type="l")
text(x=spa$x,y=spa$y,labels = spa$X,cex = 3)
spa
plot(spa[,2:3],type="l")
text(x=spa$x,y=spa$y,labels = spa$X,cex = 1)
boxplot(spe[,-1])
boxplot(env[,-1])
boxplot(env[,c(-1,-2,-3)])
std=function(x) (x-mean(x))/sd(x)
stdenv=apply(env[,-1],2,std ) %>% as.data.frame
boxplot(stdenv)
plot(spa[,2:3],cex=spe$TRU,main="TRU")
lines(spa[,2:3],col="blue",lwd=2)
plot(spa[,2:3],cex=spe$TRU,main="TRU")
lines(spa[,2:3],col="blue",lwd=2)
plot(spa[,2:3],type="l",main="TRU")
points(spa[,2:3],cex=spe$TRU,pch=21,col="blue")
plot(spa[,2:3],type="l",main="TRU")
points(spa[,2:3],cex=spe$TRU,pch=15,col="blue")
points(spa[,2:3],cex=spe$TRU,pch=21,col="blue")
plot(spa[,2:3],type="l",main="TRU")
points(spa[,2:3],cex=spe$TRU,pch=21,col="blue")
spesd=apply(spe[,-1],2,sd)
top4=spesd %>% sort(decreasing = T) %>% head(n=4)
boxplot(spe[,-1])
boxplot(iris[,1:4])
par(mfrow=c(1,1),pty="s")
pairs(env,panel = panel.smooth,diag.panel = panel.hist)
x$v1 %>% plot(.,type="l")
x %$% plot(v1[1:49],v1[2:50])
x$v1 %>% hist
x$v1 %>% qqnorm()
qqline(y=no)
x=iris
names(x)=paste("v",1:5,sep="")
x
x %>% head
x[,-5]
apply(x[,-5],2,sum)
sum(1:50)
apply(x[,-5],1,sum)
plot(spa[,2:3],cex=spe$TRU,main="TRU")
spesd=apply(spe[,-1],2,sd)
top4=spesd %>% sort(decreasing = T) %>% head(n=4)
top4
boxplot(iris[,1:4])
par(mfrow=c(1,1),pty="s")
pairs(env,panel = panel.smooth,diag.panel = panel.hist)
x$v1 %>% plot(.,type="l")
x %$% plot(v1[1:49],v1[2:50])
x$v1 %>% hist
x$v1 %>% qqnorm()
qqline(y=no)
spe %>% head()
spe > 0
spe[,-1]
spe[,-1] > 0
sit.pres <- apply(spe[,-1] > 0, 1, sum)
sit.pres
sort(sit.pres)
sit.pres <- apply(spe > 0, 1, sum)
sort(sit.pres)
x$v1
plot(iris[,3],iris[,4])
plot(iris[,3:4],type="n")
mylabel=rep(letters[1:3],each=50)
mycol=rep(c("red","blue","green"),each=50)
text(iris[,3:4],labels = mylabel,col=mycol)
legend(5,0.6,legend = unique(iris$Species),
col =c("red","blue","green"),pch="abc" )
iris$Species
legend(5,0.6,legend = unique(iris$Species),
col =c("red","blue","green"),pch=21 )
legend(5,0.6,legend = unique(iris$Species),
col =c("red","blue","green"),pch=15 )
text(iris[,3:4],labels = mylabel,col=mycol)
plot(iris[,3:4],type="n")
text(iris[,3:4],labels = mylabel,col=mycol)
letters
text(iris[,3:4],labels = rep(letters[1:3]),col=mycol)
plot(iris[,3:4],type="n")
text(iris[,3:4],labels = rep(letters[1:3]),col=mycol)
x$v1 %>% qqnorm()
qqline(y=no)
no=rnorm(100,mean = mean(x$v1),sd = sd(x$v1))
x$v1 %>% qqnorm()
qqline(y=no)
par(mai=rep(0.1,4),fig=c(90,10))
m=matrix(c(0,1,0,2,3,4,0,5,0),byrow = T,ncol=3)
layout(mat = m,widths = c(1,3,1),heights = c(1,3,1))
hist(iris[,1])
boxplot(iris[,1])
plot(iris[,c(1,3)],col=iris[,5])
hist(iris[,3])
boxplot(iris[,2],horizontal = T)
